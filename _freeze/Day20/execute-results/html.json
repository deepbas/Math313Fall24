{
<<<<<<< HEAD
  "hash": "79f8a458f1f52db78ccec90a433ee740",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Day 20\"\ntitle-slide-attributes:\n  data-background-image: images/lake.jpg\n  data-background-size: contain\n  data-background-opacity: \"0.5\"\nsubtitle: \"MATH 313: Survey Design and Sampling\"\nauthor: \"Bastola\"\nformat:\n  revealjs:\n    html-math-method: mathjax\n    mathjax-url: \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/MathJax.js\"\n    theme: [default, scss/main.scss]\n    slide_level: 2\n    slide-number: true\n    preview-links: auto\n    history: true\n    chalkboard: \n      src: chalkboard.json\n      eraser:\n        src: 'img/sponge.png'\n        radius: 20\n    transition: slide\n    background-transition: fade    \n    touch: false\n    controls: true\n---\n\n\n\n\n\n\n## Correlation Coefficient $\\hat{\\rho}$ {.font80}\n\n::: cle6\n- Measures the linear relationship strength between two variables.\n- Estimated using the Pearson method by default:\n\n```r\n# Use R's cor() function for Pearson correlation\ncor(X, Y)  # X and Y are numeric vector\n```\n\n:::\n\n## Calculation of Covariance and Standard Deviations {.font80}\n\n::: cle6\n\nFormulae for covariance and standard deviations:\n\n$$\ns_{xy} = \\frac{1}{n-1} \\sum_{i=1}^n\\left(x_i-\\bar{x}\\right)\\left(y_i-\\bar{y}\\right)\n$$\n\n$$\ns_x^2 = \\frac{1}{n-1} \\sum_{i=1}^n\\left(x_i-\\bar{x}\\right)^2\n$$\n\n$$\ns_y^2 = \\frac{1}{n-1} \\sum_{i=1}^n\\left(y_i-\\bar{y}\\right)^2\n$$\n:::\n\n## Coefficient of Variation (CV) {.font80}\n\n::: cle12\n- Represents the ratio of the standard deviation to the mean.\n- Provides a standardized measure of dispersion of a probability distribution or frequency distribution.\n\n**Motivation for using CV**:\n\n- Unlike the standard deviation, the coefficient of variation is unitless. This makes it especially useful when comparing data with different units or vastly different mean values.\n\n\n```r\n# Calculate Coefficient of Variation for two variables X and Y\ncv_x <- sd(X) / mean(X)\ncv_y <- sd(Y) / mean(Y)\n```\n\n:::\n\n\n\n## Large-Sample Confidence Interval for Ratio $R$ {.font80}\n\n::: cle6\nApproximate $90\\%$ confidence interval for $R$:\n\n$$\nr \\pm 1.645 \\sqrt{\\hat{V}(r)}\n$$\n\nWhere $\\hat{V}(r)$ is the estimated variance of $r$, in terms of $\\hat{\\rho}$:\n\n$$\n\\hat{V}(r) = \\frac{1-f}{n} r^2 \\left((\\operatorname{cv}(y))^2 + (\\operatorname{cv}(x))^2 - 2 \\hat{\\rho} \\cdot \\operatorname{cv}(x) \\cdot \\operatorname{cv}(y)\\right)\n$$\n:::\n\n##  {.font40}\n\n> Example 1: The U.S. government's American Housing Survey keeps tabs on many aspects of the characteristics of housing in America, including monthly costs for home ownership and the value of houses. One aspect of the survey tracks 47 metropolitan statistical areas (MSAs) over time by sampling a subset of them every four years or so. The survey for 2002 sampled the 13 MSAs listed in Table 6.1. Also listed there are the typical monthly costs of home ownership (not including maintenance) for 2002 and 1994 as well as the typical values of houses in those two years, respectively. These data are for owner-occupied houses only. Use these data to estimate $R$, the ratio of mean typical monthly costs for 2002 as compared to those of 1994 for all 47 MSAs and calculate an appropriate margin of error.\n\n<div style=\"text-align: center;\">\n  <img src=\"images/housing.png\" style=\"width: 60%;\">\n</div>\n\n##  {.font80}\n\n::: panel-tabset\n\n### Scatter-plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Day20_files/figure-revealjs/unnamed-chunk-1-1.png){width=960}\n:::\n:::\n\n\n\n\n### Code\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncosts <- data.frame(\n  MSA = c(\"Anaheim-Santa Ana, CA\", \"Buffalo, NY\", \"Charlotte, NC-SC\", \"Columbus, OH\",\n          \"Dallas, TX\", \"Fort Worth-Arlington, TX\", \"Kansas City, MO-KS\", \"Miami-Fort Lauderdale, FL\",\n          \"Milwaukee, WI\", \"Phoenix, AS\", \"Portland, OR-WA\", \"Riverside-San Bernardino-Ontario, CA\", \"San Diego, CA\"),\n  X1994 = c(1087, 571, 518, 612, 770, 655, 552, 710, 656, 636, 676, 773, 829),\n  X2002 = c(1363, 670, 761, 746, 991, 798, 728, 842, 849, 885, 986, 934, 1167)\n)\n\ncorrelation_coefficient <- cor(costs$X1994, costs$X2002)\n\nggplot(costs, aes(x = X1994, y = X2002)) +\n  geom_point(pch = 3) +  \n  geom_smooth(method = \"lm\", formula = y ~ x - 1, se = FALSE, color = \"blue\") +\n  labs(title = \"Regression Through Origin and Specific Point\",\n       x = \"Typical Cost per Month in 1994\",\n       y = \"Typical Cost per Month in 2002\") +\n  annotate(\"text\", x = Inf, y = Inf, label = sprintf(\"Correlation: %.2f\", correlation_coefficient), \n           hjust = 1.05, vjust = 1.05, size = 5, color = \"red\", fontface = \"bold\", angle = 0)\n```\n:::\n\n\n\n:::\n\n##  {.font60}\n\n> Calculate an approximate $90\\%$ confidence interval for the ratio $R$ using the correlation coefficient from the above example.\n\n\n## {.font80}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate means\nmean_1994 <- mean(costs$X1994)\nmean_1994\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 695.7692\n```\n\n\n:::\n\n```{.r .cell-code}\nmean_2002 <- mean(costs$X2002)\nmean_2002\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 901.5385\n```\n\n\n:::\n\n```{.r .cell-code}\n# Calculate standard deviations\nsd_1994 <- sd(costs$X1994)\nsd_1994\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 148.479\n```\n\n\n:::\n\n```{.r .cell-code}\nsd_2002 <- sd(costs$X2002)\nsd_2002\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 192.4784\n```\n\n\n:::\n\n```{.r .cell-code}\n# Calculate coefficients of variation\ncv_1994 <- sd_1994 / mean_1994\ncv_1994\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2134027\n```\n\n\n:::\n\n```{.r .cell-code}\ncv_2002 <- sd_2002 / mean_2002\ncv_2002\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2134999\n```\n\n\n:::\n:::\n\n\n\n\n## {.font80}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the correlation coefficient\ncorrelation <- cor(costs$X1994, costs$X2002)\ncorrelation\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.9380038\n```\n\n\n:::\n\n```{.r .cell-code}\n# Set the assumed slope of the regression line through the origin\nr <- mean_2002 / mean_1994\nr\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.295744\n```\n\n\n:::\n\n```{.r .cell-code}\n# Sample size\nn <- length(costs$X1994)\n\n# No sampling fraction in this context\nf <- 0\n\n# Variance calculation \nvar_r <- ((1 - f) / n) * r^2 * (cv_2002^2 + cv_1994^2 - \n                              2 * correlation * cv_1994 * cv_2002)\n\n# Calculate the confidence interval at 90% confidence level\nz <- 1.645  # z-value for 90% CI\nci_lower <- r - z * sqrt(var_r)\nci_upper <- r + z * sqrt(var_r)\nc(ci_lower, ci_upper)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.251310 1.340177\n```\n\n\n:::\n:::",
=======
  "hash": "d1905dd3b745db2a6cccae1967f983f5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Day 20\"\ntitle-slide-attributes:\n  data-background-image: images/lake.jpg\n  data-background-size: contain\n  data-background-opacity: \"0.5\"\nsubtitle: \"MATH 313: Survey Design and Sampling\"\nauthor: \"Bastola\"\nformat:\n  revealjs:\n    html-math-method: mathjax\n    mathjax-url: \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/MathJax.js\"\n    theme: [default, scss/main.scss]\n    slide_level: 2\n    slide-number: true\n    preview-links: auto\n    history: true\n    chalkboard: \n      src: chalkboard.json\n      eraser:\n        src: 'img/sponge.png'\n        radius: 20\n    transition: slide\n    background-transition: fade    \n    touch: false\n    controls: true\n---\n\n\n\n\n\n\n## Correlation Coefficient $\\hat{\\rho}$ {.font80}\n\n::: cle6\n- Measures the linear relationship strength between two variables.\n- Estimated using the Pearson method by default:\n\n```r\n# Use R's cor() function for Pearson correlation\ncor(X, Y)  # X and Y are numeric vector\n```\n\n:::\n\n## Calculation of Covariance and Standard Deviations {.font80}\n\n::: cle6\n\nFormulae for covariance and standard deviations:\n\n$$\ns_{xy} = \\frac{1}{n-1} \\sum_{i=1}^n\\left(x_i-\\bar{x}\\right)\\left(y_i-\\bar{y}\\right)\n$$\n\n$$\ns_x^2 = \\frac{1}{n-1} \\sum_{i=1}^n\\left(x_i-\\bar{x}\\right)^2\n$$\n\n$$\ns_y^2 = \\frac{1}{n-1} \\sum_{i=1}^n\\left(y_i-\\bar{y}\\right)^2\n$$\n:::\n\n## Coefficient of Variation (CV) {.font80}\n\n::: cle12\n- Represents the ratio of the standard deviation to the mean.\n- Provides a standardized measure of dispersion of a probability distribution or frequency distribution.\n\n**Motivation for using CV**:\n\n- Unlike the standard deviation, the coefficient of variation is unitless. This makes it especially useful when comparing data with different units or vastly different mean values.\n\n\n```r\n# Calculate Coefficient of Variation for two variables X and Y\ncv_x <- sd(X) / mean(X)\ncv_y <- sd(Y) / mean(Y)\n```\n\n:::\n\n\n\n## Large-Sample Confidence Interval for Ratio $R$ {.font80}\n\n::: cle6\nApproximate $90\\%$ confidence interval for $R$:\n\n$$\nr \\pm 1.645 \\sqrt{\\hat{V}(r)}\n$$\n\nWhere $\\hat{V}(r)$ is the estimated variance of $r$, in terms of $\\hat{\\rho}$:\n\n$$\n\\hat{V}(r) = \\frac{1-f}{n} r^2 \\left((\\operatorname{cv}(y))^2 + (\\operatorname{cv}(x))^2 - 2 \\hat{\\rho} \\cdot \\operatorname{cv}(x) \\cdot \\operatorname{cv}(y)\\right)\n$$\n:::\n\n##  {.font40}\n\n> Example 1: The U.S. government's American Housing Survey keeps tabs on many aspects of the characteristics of housing in America, including monthly costs for home ownership and the value of houses. One aspect of the survey tracks 47 metropolitan statistical areas (MSAs) over time by sampling a subset of them every four years or so. The survey for 2002 sampled the 13 MSAs listed in Table 6.1. Also listed there are the typical monthly costs of home ownership (not including maintenance) for 2002 and 1994 as well as the typical values of houses in those two years, respectively. These data are for owner-occupied houses only. Use these data to estimate $R$, the ratio of mean typical monthly costs for 2002 as compared to those of 1994 for all 47 MSAs and calculate an appropriate margin of error.\n\n<div style=\"text-align: center;\">\n  <img src=\"images/housing.png\" style=\"width: 60%;\">\n</div>\n\n##  {.font80}\n\n::: panel-tabset\n\n### Scatter-plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Day20_files/figure-revealjs/unnamed-chunk-1-1.png){width=960}\n:::\n:::\n\n\n\n\n### Code\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncosts <- data.frame(\n  MSA = c(\"Anaheim-Santa Ana, CA\", \"Buffalo, NY\", \"Charlotte, NC-SC\", \"Columbus, OH\",\n          \"Dallas, TX\", \"Fort Worth-Arlington, TX\", \"Kansas City, MO-KS\", \"Miami-Fort Lauderdale, FL\",\n          \"Milwaukee, WI\", \"Phoenix, AS\", \"Portland, OR-WA\", \"Riverside-San Bernardino-Ontario, CA\", \"San Diego, CA\"),\n  X1994 = c(1087, 571, 518, 612, 770, 655, 552, 710, 656, 636, 676, 773, 829),\n  X2002 = c(1363, 670, 761, 746, 991, 798, 728, 842, 849, 885, 986, 934, 1167)\n)\n\ncorrelation_coefficient <- cor(costs$X1994, costs$X2002)\n\nggplot(costs, aes(x = X1994, y = X2002)) +\n  geom_point(pch = 3) +  \n  geom_smooth(method = \"lm\", formula = y ~ x - 1, se = FALSE, color = \"blue\") +\n  labs(title = \"Regression Through Origin and Specific Point\",\n       x = \"Typical Cost per Month in 1994\",\n       y = \"Typical Cost per Month in 2002\") +\n  annotate(\"text\", x = Inf, y = Inf, label = sprintf(\"Correlation: %.2f\", correlation_coefficient), \n           hjust = 1.05, vjust = 1.05, size = 5, color = \"red\", fontface = \"bold\", angle = 0)\n```\n:::\n\n\n\n:::\n\n##  {.font60}\n\n> Calculate an approximate $90\\%$ confidence interval for the ratio $R$ using the correlation coefficient from the above example.\n\n\n## {.font80}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate means\nmean_1994 <- mean(costs$X1994)\nmean_1994\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 695.7692\n```\n\n\n:::\n\n```{.r .cell-code}\nmean_2002 <- mean(costs$X2002)\nmean_2002\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 901.5385\n```\n\n\n:::\n\n```{.r .cell-code}\n# Calculate standard deviations\nsd_1994 <- sd(costs$X1994)\nsd_1994\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 148.479\n```\n\n\n:::\n\n```{.r .cell-code}\nsd_2002 <- sd(costs$X2002)\nsd_2002\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 192.4784\n```\n\n\n:::\n\n```{.r .cell-code}\n# Calculate coefficients of variation\ncv_1994 <- sd_1994 / mean_1994\ncv_1994\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2134027\n```\n\n\n:::\n\n```{.r .cell-code}\ncv_2002 <- sd_2002 / mean_2002\ncv_2002\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2134999\n```\n\n\n:::\n:::\n\n\n\n\n## {.font80}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the correlation coefficient\ncorrelation <- cor(costs$X1994, costs$X2002)\n\n# Set the assumed slope of the regression line through the origin\nr <- mean_2002 / mean_1994\nr\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.295744\n```\n\n\n:::\n\n```{.r .cell-code}\n# Sample size\nn <- length(costs$X1994)\nN <- 47\n\n# No sampling fraction in this context\nf <- n/N\n\n# Variance calculation \nvar_r <- ((1 - f) / n) * r^2 * (cv_2002^2 + cv_1994^2 - \n                              2 * correlation * cv_1994 * cv_2002)\n\n# Calculate the confidence interval at 90% confidence level\nci <- r + c(-1,1)*qt(0.95, df = n)* sqrt(var_r)\nci\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.255058 1.336429\n```\n\n\n:::\n:::",
>>>>>>> 7ba3b10 (10-10-3)
    "supporting": [
      "Day20_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}