{
  "hash": "a4d48fd7e64d343d3e86b87c37766ec8",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Day 4\"\ntitle-slide-attributes:\n  data-background-image: images/lake.jpg\n  data-background-size: contain\n  data-background-opacity: \"0.5\"\nsubtitle: \"MATH 313: Survey Design and Samping\"\nauthor: \"Bastola\"\nformat:\n  revealjs: \n    theme: [default, scss/main.scss]\n    slide_level: 2\n    slide-number: true\n    preview-links: auto\n    history: true\n    chalkboard: \n      src: chalkboard.json\n      eraser:\n        src: 'img/sponge.png'\n        radius: 20\n    transition: slide\n    background-transition: fade    \n    touch: false\n    controls: true\n---\n\n\n\n\n\n\n\n## Introduction to Probability Sampling\n\n::: cle1\n::: font70\n\n- **Objective**: Understand the basics of probability sampling and its importance in statistical inference.\n- **Key Concepts**:\n  - **Finite vs. Infinite Populations**: Differentiates sampling dynamics where populations are either bounded (finite) or theoretically limitless (infinite).\n  - **Independent Selections**: Each sample is selected without influence from the selections of other samples.\n  - **Sampling with Replacement**: After a sample is selected, it is \"replaced,\" allowing it to be selected again in subsequent draws.\n  - **Effects on Variance and Estimation Accuracy**: Discusses how different sampling methods affect the variability and accuracy of statistical estimates.\n\n:::\n:::\n\n\n## Detailed Example of Probability Sampling\n\n::: cle3\n::: font70\n\n- **Probability Equation**:\n  - For each element in the population, the probability of its selection in a sample is denoted as:\n\n$$\nP(\\text{selection of element } i) = \\delta_i\n$$\n\n- **Example**: Consider sampling from the set \\{1, 2, 3, 4\\} with defined probabilities.\n  - **Context**: This could represent a scenario where each number corresponds to a category or group within a larger population.\n\n:::\n:::\n\n## Implementation of Sampling Techniques\n\n::: cle2\n::: font70\nSampling typically involves randomly selecting elements based on their defined probabilities.\n\n  - **Sampling with Replacement**: Each element has an equal or specified chance to be chosen again after it is selected.\n  - **Sampling without Replacement**: Once an element is chosen, it is not returned to the pool for the remainder of the sampling process.\n\n- **Impact on Variability**:\n  - The choice between sampling with or without replacement can significantly affect the variability and bias in the estimation process.\n\n:::\n:::\n\n\n## Sampling with Replacement\n\n::: cle\n::: font80\n- **Definition**: Each element has the same probability of being selected, independent of previous selections.\n- **Probability Notation**:\n  - $\\delta_i = \\frac{1}{N}$ for all $i$\n\n\\begin{align*}\n\\hat{\\tau} = \\frac{1}{n} \\sum_{i=1}^n \\frac{y_i}{\\delta_i}\n\\end{align*}\n\n- **Unbiased Estimator**: Shows how sampling with equal probabilities is unbiased regardless of selection order.\n:::\n:::\n\n\n## Advantages of Varying Probabilities\n\n::: cle\n::: font80\n- **Objective**: Improve estimation by varying selection probabilities.\n- **Typical Scenario**: Sampling industrial firms with varying sizes.\n\n\\begin{align*}\n\\delta_i = \\frac{y_i}{\\tau}\n\\end{align*}\n\n- **Improved Estimates**: Giving higher probabilities to units with greater relevance (e.g., larger firms).\n\n**Impact**: This approach reduces variance and increases the accuracy of the estimates.\n:::\n:::\n\n## Practical Sampling without Replacement\n\n::: cle\n::: font70\n- **Difference from With Replacement**:\n  - Changes in probabilities after each draw.\n  - More aligned with real-world sampling conditions.\n\n\\begin{align*}\n\\hat{\\tau} = \\sum_{i=1}^n \\frac{y_i}{\\pi_i}\n\\end{align*}\n\n- **Calculation**: Weights each sampled unit by the reciprocal of its probability of selection.\n:::\n:::\n\n## Example from Section 3.3\n\n\n::: mre\n\n- **Set of Elements**:\n  - Let $U = \\{u_1, u_2, u_3, u_4\\}$ represent the population elements, where $u_i$ corresponds to an element.\n  \n- **Probabilities**:\n  - Associated probabilities of selection are denoted by $\\delta_i$, where:\n    - $\\delta_1 = \\delta_2 = 0.1$ and $\\delta_3 = \\delta_4 = 0.4$.\n    \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define the elements and their respective probabilities\nelements <- c(1, 2, 3, 4)\ndeltas <- c(0.1, 0.1, 0.4, 0.4)\n```\n:::\n\n\n\n:::\n\n\n## Possible samples and their estimated counts\n\n::: mre\n::: font80\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Possible samples and their probabilities\nsamples <- list(c(1, 2), c(1, 3), c(1, 4), c(2, 3), c(2, 4), c(3, 4),\n                c(1, 1), c(2, 2), c(3, 3), c(4, 4))\n# Compute tau_hat for each sample, ensuring to divide by the sample size\ntau_hats <- sapply(samples, function(s) sum(elements[s] / deltas[s]) / length(s))\n\n# Check tau_hats values\ntau_hats\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 15.00  8.75 10.00 13.75 15.00  8.75 10.00 20.00  7.50 10.00\n```\n\n\n:::\n:::\n\n\n\n\nThe estimator $\\hat{\\tau}$ for each sample is calculated using the formula:\n\n$$\n\\hat{\\tau} = \\frac{1}{n} \\sum_{i=1}^n \\frac{y_i}{\\delta_i}\n$$\n\n:::\n:::\n\n## Probabilities calculations\n\n::: scroll-box-24\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate pair probabilities\nsample_probs <- c(\n  0.1*0.1,       # (1, 2)\n  0.1*0.4 * 2,   # (1, 3)\n  0.1*0.4 * 2,   # (1, 4)\n  0.1*0.4 * 2,   # (2, 3)\n  0.1*0.4 * 2,   # (2, 4)\n  0.4*0.4 * 2,   # (3, 4)\n  0.1*0.1 ,      # (1, 1)\n  0.1*0.1,       # (2, 2)\n  0.4*0.4,       # (3, 3)\n  0.4*0.4        # (4, 4)\n)\n\nsample_probs\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 0.01 0.08 0.08 0.08 0.08 0.32 0.01 0.01 0.16 0.16\n```\n\n\n:::\n:::\n\n\n\n:::\n\n\n## Calculating Expected Value of $\\hat{\\tau}$\n\n::: eqt\n\nThe expected value of $\\hat{\\tau}$ is calculated as:\n\n$$\nE[\\hat{\\tau}] = 15(0.01) + 8.75(0.08) + \\cdots + 10(0.16) = 10\n$$\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntau_hats * sample_probs\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 0.15 0.70 0.80 1.10 1.20 2.80 0.10 0.20 1.20 1.60\n```\n\n\n:::\n\n```{.r .cell-code}\n# Calculate the expected value of tau_hat\nE_tau_hat <- sum(tau_hats * sample_probs)\nE_tau_hat\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 9.85\n```\n\n\n:::\n:::\n\n\n\n:::\n\n\n## Calculating Variance of $\\hat{\\tau}$\n\n::: eqt\n\nThe variance of $\\hat{\\tau}$ is calculated as follows:\n\n$$\nV(\\hat{\\tau}) = \\sum_i(\\hat{\\tau}_i - E[\\hat{\\tau}_i])^2*p_i)\n$$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvar_tau_hat <- sum((tau_hats - E_tau_hat)^2 * sample_probs)\nvar_tau_hat\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6.007275\n```\n\n\n:::\n:::\n\n\n\n:::\n\n## Concept of Covariance\n\n::: cle4\n\n- **Covariance** provides a measure of the linear relationship between two variables $y_1$ and $y_2$.\n- Defined as:\n  $$\n  \\operatorname{cov}(y_1, y_2) = E\\left[(y_1-\\mu_1)(y_2-\\mu_2)\\right]\n  $$\n  where $\\mu_1$ and $\\mu_2$ are the means of $y_1$ and $y_2$, respectively.\n\n:::\n\n## Visual Interpretation \n\n::: bqt\n\n- **Positive Relationship**: If $y_1$ increases as $y_2$ increases, resulting in a positive covariance.\n- **Negative Relationship**: If $y_1$ decreases as $y_2$ increases, resulting in a negative covariance.\n- **No Linear Relationship**: Covariance near zero suggests little or no linear relationship.\n\n:::\n\n## Significance of Covariance\n\n::: dse\n\n- **Scale Dependency**: The magnitude of covariance depends on the units of $y_1$ and $y_2$.\n- **Normalization**: Standardizing covariance by the product of the standard deviations of $y_1$ and $y_2$ gives the correlation coefficient:\n  $$\n  \\rho = \\frac{\\operatorname{cov}(y_1, y_2)}{\\sigma_1 \\sigma_2}\n  $$\n  where $\\sigma_1$ and $\\sigma_2$ are standard deviations of $y_1$ and $y_2$.\n\n:::\n\n## Correlation Coefficient\n\n::: cle\n\n- **Range**: $\\rho$ ranges from -1 to 1, indicating the strength and direction of the linear relationship.\n- **Interpretation**:\n  - $\\rho = 1$: Perfect positive linear relationship.\n  - $\\rho = -1$: Perfect negative linear relationship.\n  - $\\rho = 0$: No linear relationship.\n  \n:::\n\n## Understanding Estimators\n\n::: cle3\n\n- **Properties of a Good Estimator**:\n  - Unbiasedness: $E(\\hat{\\theta}) = \\theta$\n  - Small Variance: $V(\\hat{\\theta}) = \\sigma_{\\hat{\\theta}}^2$ is minimal\n  \n:::\n\n## Estimator Distribution and Error\n\n::: cle4\n- **Sampling Distribution**: The probability distribution of $\\bar{y}$ depends on the sampling mechanism.\n- **Desired Characteristics**:\n  - $\\bar{y}$ should be close to $\\mu$, centering around $\\mu$.\n  - The sampling plan should ensure $E(\\bar{y}) = \\mu$ and $V(\\bar{y})$ is small.\n\n:::\n\n## Confidence Intervals and Error Bounds\n\n::: cle5\n::: font80\n\n- **Error of Estimation**: $|\\hat{\\theta} - \\theta|$, the magnitude of deviation from the true parameter.\n- **Confidence Interval**: An interval within which the parameter is expected to lie with a certain probability $(1-\\alpha)$.\n  - **Form**: $(\\hat{\\theta} - B, \\hat{\\theta} + B)$ where $B = z_{\\alpha / 2} \\sigma_{\\hat{\\theta}}$ for normally distributed estimators.\n  - **Use of $t$-distribution**: When population SD is unknown and the sample size is large, $t$-scores may replace $z$-scores.\n  \n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}