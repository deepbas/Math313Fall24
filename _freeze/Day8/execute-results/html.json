{
  "hash": "0b060c525f7cceaef90718f42ea3e9f6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Day 8\"\ntitle-slide-attributes:\n  data-background-image: images/lake.jpg\n  data-background-size: contain\n  data-background-opacity: \"0.5\"\nsubtitle: \"MATH 313: Survey Design and Sampling\"\nauthor: \"Bastola\"\nformat:\n  revealjs:\n    html-math-method: mathjax\n    mathjax-url: \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/MathJax.js\"\n    theme: [default, scss/main.scss]\n    slide_level: 2\n    slide-number: true\n    preview-links: auto\n    history: true\n    chalkboard: \n      src: chalkboard.json\n      eraser:\n        src: 'img/sponge.png'\n        radius: 20\n    transition: slide\n    background-transition: fade    \n    touch: false\n    controls: true\n---\n\n\n\n\n\n\n## Key Quantities in Survey Sampling\n\n::: font60\n::: cle4\n::: row\n::: left\nEstimator of the Population Mean\n\n- **Estimator**:\n  $$\n  \\hat{\\mu} = \\bar{y}\n  $$\n- **Estimated Variance**:\n  $$\n  \\hat{V}(\\bar{y}) = \\left(1-\\frac{n}{N}\\right) \\frac{s^2}{n}\n  $$\n:::\n\n::: right\nEstimator of the Population Total\n\n- **Estimator**:\n  $$\n  \\hat{\\tau} = N \\cdot \\bar{y}\n  $$\n- **Estimated Variance**:\n  $$\n  \\hat{V}(\\hat{\\tau}) = N^2 \\cdot \\left(1-\\frac{n}{N}\\right) \\frac{s^2}{n}\n  $$\n:::\n:::\n:::\n:::\n\n\n## Error Bounds for Survey Estimates\n\n::: cle3\n::: font80\n### Mean Estimation Error Bound\n\n  $$\n  \\text{B} = t_{1-\\frac{\\alpha}{2}, n-1} \\cdot \\sqrt{\\left(1-\\frac{n}{N}\\right) \\cdot \\frac{s^2}{n}}\n  $$\n\n### Total Estimation Error Bound\n\n  $$\n  \\text{B} = t_{1-\\frac{\\alpha}{2}, n-1} \\cdot \\sqrt{N^2 \\cdot \\left(1-\\frac{n}{N}\\right) \\cdot \\frac{s^2}{n}}\n  $$\n:::\n:::\n\n\n\n## Computing t-Distribution Critical Values in R\n\n::: cle3\n::: font70\n\n### Critical Value Calculation in R\n\n```{{r}}\nqt(1 - alpha / 2, df = n - 1)\n```\n  \nThis function computes the critical value $t_{1-\\alpha / 2, n-1}$ for the t-distribution.\n\n### Confidence Interval Formula\n\n\\begin{align*}\n\\hat{\\theta} \\pm B\n\\end{align*}\n\n\nHere, $\\hat{\\theta}$ is the estimate for the parameter of interest and $B$ represents the bound on the error of estimation, computed as outlined in previous slides.\n\n:::\n:::\n\n##\n\n::: font50\n> Example 1: A simple random sample of 100 houses within a community is selected and their monthly energy usages are recorded. The sample mean and sample standard deviation are founded to be $\\bar{y}=$ 887 kWh and $s=120 \\mathrm{kWh}$. If there are $N=8000$ houses within the community. Estimate the true mean monthly energy usage per house, $\\mu$, and the total monthly energy usages for the community, $\\tau$. The estimation should include the estimator, the estimated variance, the $95 \\%$ bound on the error of estimation, and the $95 \\%$ confidence interval for the population parameter.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqt(1 - 0.05/2, df = 99)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.984217\n```\n\n\n:::\n:::\n\n\n\n:::\n\n## Error Bounds for Known Population Variance\n\n::: cle5\n::: font80\n\nMean Estimation Error\n\n  $$\n  B_{\\bar{y}} = z_{1-\\frac{\\alpha}{2}} \\cdot \\sqrt{\\left(\\frac{N-n}{N-1}\\right) \\cdot \\frac{\\sigma^2}{n}}\n  $$\n\nTotal Estimation Error\n  $$\n  B_{\\hat{\\tau}} = z_{1-\\frac{\\alpha}{2}} \\cdot N \\cdot \\sqrt{\\left(\\frac{N-n}{N-1}\\right) \\cdot \\frac{\\sigma^2}{n}}\n  $$\n\n:::\n:::\n\n\n## Sample Size and Estimation Accuracy\n\n::: cle4\n::: font80\n- **Key Insight**: Larger sample sizes $n$ reduce the error bounds $B$, increasing the precision of estimates.\n- **Trade-off**: Larger samples increase costs but provide more reliable data.\n:::\n:::\n\n::: green-h\nSelect $B$ based on desired confidence and precision. Solve for $n$ given $B$, using the error bound formulas.\n:::\n\n\n\n## Sample Size Determination for Estimating Population Mean $\\mu$\n\n::: cle4\n::: font70\n\nCase 1: Known Population Variance $\\sigma^2$\n\n  $$\n  n = \\frac{N \\sigma^2}{(N-1) \\left(\\frac{B_{\\bar{y}}}{z_{1-\\frac{\\alpha}{2}}}\\right)^2 + \\sigma^2}\n  $$\n\nCase 2: Known Sample Variance $s^2$ from Previous Experiment\n\n  $$\n  n = \\frac{N s^2}{N \\left(\\frac{B_{\\bar{y}}}{z_{1-\\frac{\\alpha}{2}}}\\right)^2 + s^2}\n  $$\n:::\n:::\n\n\n## Sample Size Determination for Estimating Population Total $\\tau$\n\n::: cle4\n::: font70\n\nCase 1: Known Population Variance $\\sigma^2$\n  $$\n  n = \\frac{N \\sigma^2}{(N-1) \\left(\\frac{B_{\\hat{\\tau}}}{z_{1-\\frac{\\alpha}{2}} \\cdot N}\\right)^2 + \\sigma^2}\n  $$\n\nCase 2: Known Sample Variance $s^2$ from Previous Experiment\n  $$\n  n = \\frac{N s^2}{N \\left(\\frac{B_{\\hat{\\tau}}}{z_{1-\\frac{\\alpha}{2}} \\cdot N}\\right)^2 + s^2}\n  $$\n:::\n:::\n\n## Using Range, R\n\n<br>\n<br>\n\n::: green-h\n**If $\\sigma^2$ and $s^2$ are unknown, but the range $R$ is given:** Use equation for $\\sigma^2$ but approximate $\\sigma \\approx \\frac{R}{4}$.\n:::\n\n\n##\n\n::: font50\n> Example 2: To study the monthly energy usages in a community with $N=8000$ houses, a researcher want to select a simple random sample with size $n$. Historical data shows that the sample standard deviation of the the monthly energy usages in this community is $s=120 \\mathrm{kWh}$. Find the sample size needed to estimate the average usage $\\mu$ with a bound on the error of estimation $B_{\\bar{y}}=50 \\mathrm{kWh}$. How about the sample size required for estimate total usage $\\tau$ with $B_{\\hat{\\tau}}=160000$? \n\n:::\n\n##\n\n::: font50\n> Example 3: The average amount of money $\\mu$ for a hospital's accounts receivable must be estimated. Although no prior data are available to estimate the population variance, it is known that most accounts lie within a $\\$ 100$ range. There are $N=1000$ open accounts. Find the sample size needed to estimate $\\mu$ with a bound on the error of estimation $B_{\\bar{y}}=\\$ 3$.\n:::\n\n\n## \n\n<details><summary><red>Derivations for known $\\sigma^2$ (Supplementary)</red></summary>\n\n::: font60\n::: scrollable\n\\begin{align*}\n& \\text{Starting with the margin of error equation:} \\\\\n& B_{\\bar{y}} = z_{1-\\frac{\\alpha}{2}} \\cdot \\sqrt{\\left(\\frac{N-n}{N-1}\\right) \\cdot \\frac{\\sigma^2}{n}} \\\\\n& \\text{Squaring both sides and isolating } n: \\\\\n& \\left(\\frac{B_{\\bar{y}}}{z_{1-\\frac{\\alpha}{2}}}\\right)^2 = \\frac{N-n}{N-1} \\cdot \\frac{\\sigma^2}{n} \\\\\n& \\text{Cross-multiplying and rearranging for } n: \\\\\n& (N-1) \\left(\\frac{B_{\\bar{y}}^2}{z_{1-\\frac{\\alpha}{2}}^2 \\sigma^2}\\right) \\cdot n + n = N \\\\\n& n \\left( (N-1) \\left(\\frac{B_{\\bar{y}}^2}{z_{1-\\frac{\\alpha}{2}}^2 \\sigma^2}\\right) + 1 \\right) = N \\\\\n& n = \\frac{N}{(N-1) \\left(\\frac{B_{\\bar{y}}^2}{z_{1-\\frac{\\alpha}{2}}^2 \\sigma^2}\\right) + 1}\n\\end{align*}\n:::\n:::\n\n</details>\n\n\n##\n\n<details><summary><red>Derivations for unknown $\\sigma^2$ (Supplementary)</red></summary>\n\n::: font60\n::: scrollable\n\\begin{align*}\n& \\text{Given the margin of error for unknown variance:} \\\\\n& B_{\\bar{y}} = t_{1-\\frac{\\alpha}{2}, n-1} \\cdot \\sqrt{\\left(1-\\frac{n}{N}\\right) \\cdot \\frac{s^2}{n}} \\\\\n& \\text{Simplify and square both sides to isolate } n: \\\\\n& \\frac{B_{\\bar{y}}}{t_{1-\\frac{\\alpha}{2}, n-1}} = \\sqrt{\\frac{N-n}{N} \\cdot \\frac{s^2}{n}} \\\\\n& \\left(\\frac{B_{\\bar{y}}}{t_{1-\\frac{\\alpha}{2}, n-1}}\\right)^2 = \\frac{N-n}{N} \\cdot \\frac{s^2}{n} \\\\\n& \\text{Rearrange to solve for } n: \\\\\n& n \\left(\\frac{B_{\\bar{y}}^2}{t_{1-\\frac{\\alpha}{2}, n-1}^2} + \\frac{s^2}{N}\\right) = s^2 \\\\\n& n = \\frac{s^2}{\\frac{B_{\\bar{y}}^2}{t_{1-\\frac{\\alpha}{2}, n-1}^2} + \\frac{s^2}{N}}\n\\end{align*}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}